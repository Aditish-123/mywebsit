// Function to load students from localStorage
function loadStudents() {
  const students = JSON.parse(localStorage.getItem('students')) || [];
  const tableBody = document.querySelector('#studentTable tbody');
  tableBody.innerHTML = ''; // Clear the table

  students.forEach((student, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${student.name}</td>
      <td>${student.rollNumber}</td>
      <td>${student.course}</td>
      <td><button onclick="deleteStudent(${index})">Delete</button></td>
    `;
    tableBody.appendChild(row);
  });
}

// Function to handle form submission
document.getElementById('studentForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const name = document.getElementById('name').value;
  const rollNumber = document.getElementById('rollNumber').value;
  const course = document.getElementById('course').value;

  const student = {
    name,
    rollNumber,
    course
  };

  // Get existing students from localStorage
  const students = JSON.parse(localStorage.getItem('students')) || [];
  students.push(student);

  // Save back to localStorage
  localStorage.setItem('students', JSON.stringify(students));

  // Clear the form inputs
  document.getElementById('name').value = '';
  document.getElementById('rollNumber').value = '';
  document.getElementById('course').value = '';

  // Reload the student list
  loadStudents();
});

// Function to delete a student
function deleteStudent(index) {
  const students = JSON.parse(localStorage.getItem('students')) || [];
  students.splice(index, 1); // Remove the student from the array
  localStorage.setItem('students', JSON.stringify(students)); // Save the updated list

  // Reload the student list
  loadStudents();
}

// Load students when the page is loaded
window.onload = loadStudents;
